import{r as f,_ as le,R as c,a as T,P as t,x as b,c as X,j as a}from"./index-Ds2fimAw.js";import"./index.esm-nQ9cFckz.js";import{a5 as vt,a7 as bt,a6 as ht,$ as qe,Q as gt,R as He}from"./ProBadge-ySue6FWx.js";import{C as ne,a as j}from"./CRow-DT95P3EI.js";import{C as Ke,a as Fe}from"./CCardBody-WptzQMqQ.js";import{C as Ge}from"./CCardHeader-CnXTlplO.js";import{C as We}from"./CFormControlWrapper-c1Z5zr1d.js";import{C as yt}from"./CElementCover-C3vGpd5A.js";import{C as xt}from"./CVirtualScroller-M9_oEui8.js";import"./cil-user-Dlmw-Gem.js";import"./CFormControlValidation-Cs1ujm6s.js";var Je=function(e){return e&&e.map(function(l,n){return l.options?c.createElement("optgroup",{label:l.label,key:n},Je(l.options)):c.createElement("option",{value:l.value,key:n,disabled:l.disabled},l.label)})},oe=f.forwardRef(function(e,l){var n=e.id,s=e.name,o=e.options,i=le(e,["id","name","options"]);return c.createElement("select",T({id:n},n&&!s&&{name:"".concat(n,"-multi-select")},s&&{name:s},{tabIndex:-1,style:{display:"none"}},i,{ref:l}),o&&Je(o))});oe.propTypes={id:t.string,name:t.string,options:t.array,value:t.oneOfType([t.number,t.string,t.arrayOf(t.string.isRequired)])};oe.displayName="CMultiSelectNativeSelect";var wt=function(e,l){for(var n=e.toLowerCase().replace(/\s/g,"-"),s=n,o=1;l.some(function(i){return String(i.value)===s});)s="".concat(n,"-").concat(o),o++;return[{value:s,label:e,custom:!0}]},Ve=function(e,l){if(e.length>0&&l){for(var n=[],s=0,o=l;s<o.length;s++){var i=o[s],d=i.options&&i.options.filter(function(m){return m.label&&m.label.toLowerCase().includes(e.toLowerCase())});(i.label&&i.label.toLowerCase().includes(e.toLowerCase())||d&&d.length>0)&&n.push(Object.assign({},i,d&&d.length>0&&{options:d}))}return n}return l},Ue=function(e,l){for(var n=[],s=0,o=e;s<o.length;s++){var i=o[s];if(Array.isArray(i.options)){var d=i.options,m=le(i,["options"]);l&&n.push(m),n.push.apply(n,d)}else n.push(i)}return n},Ct=function(e,l){for(var n=e.nextElementSibling;n;){if(n.matches(l))return n;n=n.nextElementSibling}},ze=function(e){return Array.from(e.querySelectorAll(".form-multi-select-option:not(.disabled):not(:disabled)"))},St=function(e,l){for(var n=e.previousElementSibling;n;){if(n.matches(l))return n;n=n.previousElementSibling}},Et=function(e){return typeof e=="string"&&e==="external"||typeof e=="object"&&e.external===!0},Ot=function(e){return typeof e=="string"&&e==="global"||typeof e=="object"&&e.global===!0},Be=function(e,l,n,s){if(!e)return[l[0]];var o=b(b([],n,!0),l,!0);s&&(o=o.filter(function(g){return!s.some(function(v){return v.value===g.value})}));for(var i=[],d=function(g){i.some(function(v){return v.value===g.value})||i.push(g)},m=0,E=o;m<E.length;m++){var h=E[m];d(h)}return i},ae=f.forwardRef(function(e,l){var n=e.loading,s=e.onKeyDown,o=e.onOptionOnClick,i=e.options,d=e.optionsMaxHeight,m=e.optionsStyle,E=e.optionsTemplate,h=e.optionsGroupsTemplate,g=e.searchNoResultsLabel,v=e.selected,w=e.virtualScroller,k=e.visibleItems,F=k===void 0?10:k,M=function(p,C){if((p.code==="Space"||p.key==="Enter")&&(p.preventDefault(),o&&o(C)),p.key==="Down"||p.key==="ArrowDown"){p.preventDefault();var L=p.target,x=Ct(L,".form-multi-select-option");x&&x.focus()}if(p.key==="Up"||p.key==="ArrowUp"){p.preventDefault();var L=p.target,Q=St(L,".form-multi-select-option");Q&&Q.focus()}},R=function(p){return p.length>0?p.map(function(C,L){return"value"in C?c.createElement("div",{className:X("form-multi-select-option",{"form-multi-select-option-with-checkbox":m==="checkbox","form-multi-selected":v.some(function(x){return x.value===C.value}),disabled:C.disabled}),key:L,onClick:function(){return o&&o(C)},onKeyDown:function(x){return M(x,C)},tabIndex:0},E?E(C):C.label):c.createElement("div",{className:"form-multi-select-optgroup-label",key:L},h?h(C):C.label)}):c.createElement("div",{className:"form-multi-select-options-empty"},g)};return c.createElement(c.Fragment,null,w?c.createElement(xt,{className:"form-multi-select-options",onKeyDown:s,visibleItems:F,ref:l},R(i)):c.createElement("div",T({className:"form-multi-select-options",onKeyDown:s},d!=="auto"&&{style:{maxHeight:d,overflow:"scroll"}},{ref:l}),R(i)),n&&c.createElement(yt,null))});ae.propTypes={loading:t.bool,onOptionOnClick:t.func,options:t.array.isRequired,optionsMaxHeight:t.oneOfType([t.number,t.string]),optionsStyle:t.oneOf(["checkbox","text"]),optionsTemplate:t.func,optionsGroupsTemplate:t.func,searchNoResultsLabel:t.oneOfType([t.string,t.node]),virtualScroller:t.bool,visibleItems:t.number};ae.displayName="CMultiSelectOptions";var ie=f.forwardRef(function(e,l){var n=e.children,s=e.disabled,o=e.multiple,i=e.placeholder,d=e.onRemove,m=e.search,E=e.selected,h=E===void 0?[]:E,g=e.selectionType,v=e.selectionTypeCounterText;return c.createElement("span",{className:X("form-multi-select-selection",{"form-multi-select-selection-tags":o&&g==="tags"}),ref:l},o&&g==="counter"&&!m&&h.length===0&&i,o&&g==="counter"&&!m&&h.length>0&&"".concat(h.length," ").concat(v),o&&g==="tags"&&h.map(function(w,k){if(g==="tags")return c.createElement("span",{className:"form-multi-select-tag",key:k},w.label,!s&&!w.disabled&&c.createElement("button",{className:"form-multi-select-tag-delete",type:"button","aria-label":"Close",onClick:function(){return d&&d(w)}}))}),o&&g==="text"&&h.map(function(w,k){return c.createElement("span",{key:k},w.label,k===h.length-1?"":",","Â ")}),!o&&!m&&h.map(function(w){return w.label})[0],n)});ie.propTypes={children:t.node,disabled:t.bool,multiple:t.bool,onRemove:t.func,placeholder:t.string,search:t.oneOfType([t.bool,t.oneOf(["external","global"]),t.shape({external:t.bool.isRequired,global:t.bool.isRequired})]),selected:t.array,selectionType:t.oneOf(["counter","tags","text"]),selectionTypeCounterText:t.string};ie.displayName="CMultiSelectSelection";var kt=function(e){var l=f.useRef(null),n=f.useRef(null),s=f.useState(!1),o=s[0],i=s[1],d=vt(),m=d.popper,E=d.initPopper,h=d.destroyPopper,g=T({placement:bt(l.current)?"bottom-end":"bottom-start",modifiers:[{name:"preventOverflow",options:{boundary:"clippingParents"}},{name:"offset",options:{offset:[0,2]}}]},e),v=function(){i(!1)},w=function(){i(!0)},k=function(){i(function(p){return!p})},F=function(){m&&m.update()},M=function(p){if(p.key==="Escape"){i(!1);return}if(p.key==="Tab"){if(l.current&&l.current.contains(document.activeElement)||n.current&&n.current.contains(document.activeElement))return;i(!1)}},R=function(p){n.current&&n.current.contains(p.target)||l.current&&l.current.contains(p.target)||i(!1)};return f.useEffect(function(){return o?(window.addEventListener("mouseup",R),window.addEventListener("keyup",M),l.current&&n.current&&E(l.current,n.current,g)):(window.removeEventListener("mouseup",R),window.removeEventListener("keyup",M),h()),function(){window.removeEventListener("mouseup",R),window.removeEventListener("keyup",M),h()}},[o]),{dropdownMenuElement:n,dropdownRefElement:l,isOpen:o,closeDropdown:v,openDropdown:w,toggleDropdown:k,updatePopper:F}},N=f.forwardRef(function(e,l){var n,s=e.allowCreateOptions,o=e.ariaCleanerLabel,i=o===void 0?"Clear all selections":o,d=e.className,m=e.cleaner,E=m===void 0?!0:m,h=e.clearSearchOnSelect,g=e.container,v=e.disabled,w=e.feedback,k=e.feedbackInvalid,F=e.feedbackValid,M=e.id,R=e.invalid,p=e.label,C=e.loading,L=e.multiple,x=L===void 0?!0:L,Q=e.name,se=e.onChange,ce=e.onFilterChange,ue=e.onHide,pe=e.onShow,G=e.options,fe=e.optionsMaxHeight,Qe=fe===void 0?"auto":fe,de=e.optionsStyle,$e=de===void 0?"checkbox":de,Xe=e.optionsTemplate,Ye=e.optionsGroupsTemplate,me=e.placeholder,Y=me===void 0?"Select...":me,ve=e.portal,Z=ve===void 0?!1:ve,Ze=e.required,be=e.resetSelectionOnOptionsChange,_e=be===void 0?!1:be,he=e.search,K=he===void 0?!0:he,ge=e.searchNoResultsLabel,et=ge===void 0?"No results found":ge,ye=e.selectAll,tt=ye===void 0?!0:ye,xe=e.selectAllLabel,rt=xe===void 0?"Select all options":xe,we=e.selectionType,_=we===void 0?"tags":we,Ce=e.selectionTypeCounterText,Se=Ce===void 0?"item(s) selected":Ce,Ee=e.size,nt=e.text,lt=e.tooltipFeedback,Oe=e.valid,V=e.value,ot=e.virtualScroller,ke=e.visible,Te=ke===void 0?!1:ke,De=e.visibleItems,at=De===void 0?10:De,it=le(e,["allowCreateOptions","ariaCleanerLabel","className","cleaner","clearSearchOnSelect","container","disabled","feedback","feedbackInvalid","feedbackValid","id","invalid","label","loading","multiple","name","onChange","onFilterChange","onHide","onShow","options","optionsMaxHeight","optionsStyle","optionsTemplate","optionsGroupsTemplate","placeholder","portal","required","resetSelectionOnOptionsChange","search","searchNoResultsLabel","selectAll","selectAllLabel","selectionType","selectionTypeCounterText","size","text","tooltipFeedback","valid","value","virtualScroller","visible","visibleItems"]),P=kt(),q=P.dropdownMenuElement,ee=P.dropdownRefElement,I=P.isOpen,je=P.closeDropdown,$=P.openDropdown,st=P.toggleDropdown,ct=P.updatePopper,te=f.useRef(null),y=f.useRef(null),re=f.useRef(!0),Ne=f.useState(""),O=Ne[0],U=Ne[1],Re=f.useState([]),u=Re[0],D=Re[1],Le=f.useState([]),H=Le[0],Ae=Le[1],z=f.useMemo(function(){return Ue(Et(K)?b(b([],G,!0),Ve(O,H),!0):Ve(O,b(b([],G,!0),H,!0)),!0)},[G,O,H]),B=f.useMemo(function(){return Ue(G).map(function(r){return V&&Array.isArray(V)?T(T({},r),{selected:V.includes(r.value)}):V===r.value?T(T({},r),{selected:!0}):r})},[G,V]),W=f.useMemo(function(){return s&&z.some(function(r){return r.label&&r.label.toLowerCase()===O.toLowerCase()})?!1:y.current&&wt(String(O),B)},[z,O]);f.useEffect(function(){if(_e)return D([]);var r=B.filter(function(A){return A.selected===!0}),S=B.filter(function(A){return A.selected===!1});r.length>0&&D(Be(x,r,u,S))},[B]),f.useEffect(function(){!re.current&&ce&&ce(O)},[O]),f.useEffect(function(){!re.current&&te.current&&te.current.dispatchEvent(new Event("change",{bubbles:!0})),ct()},[JSON.stringify(u)]),f.useEffect(function(){Te?$():je()},[Te]),f.useEffect(function(){var r;return I&&(pe&&pe(),Z&&q.current&&ee.current&&(q.current.style.minWidth="".concat(ee.current.offsetWidth,"px")),(r=y.current)===null||r===void 0||r.focus()),function(){ue&&ue(),U(""),y.current&&(y.current.value="")}},[I]),f.useEffect(function(){re.current=!1},[]);var ut=function(r){U(r.target.value)},pt=function(r){if(I||$(),r.key==="ArrowDown"&&q.current&&y.current&&y.current.value.length===y.current.selectionStart){r.preventDefault();var S=ze(q.current),A=r.target;qe(S,A,r.key==="ArrowDown",!S.includes(A)).focus();return}if(r.key==="Enter"&&O&&s){r.preventDefault(),W&&(D(b(b([],u,!0),W,!0)),Ae(b(b([],H,!0),W,!0))),W||D(b(b([],u,!0),[z.find(function(J){return String(J.label).toLowerCase()===O.toLowerCase()})],!1)),U(""),y.current&&(y.current.value="");return}if(!(O.length>0)&&(r.key==="Backspace"||r.key==="Delete")){var Pe=u.filter(function(J){return!J.disabled}).pop();Pe&&D(u.filter(function(J){return J.value!==Pe.value}))}},ft=function(r){if(!I&&(r.key==="Enter"||r.key==="ArrowDown")){r.preventDefault(),$();return}if(I&&q.current&&r.key==="ArrowDown"){r.preventDefault();var S=ze(q.current),A=r.target;qe(S,A,r.key==="ArrowDown",!S.includes(A)).focus()}},Me=function(r){Ot(K)&&y.current&&(r.key.length===1||r.key==="Backspace"||r.key==="Delete")&&y.current.focus()},Ie=function(r){if(!x){D([r]),je(),U(""),y.current&&(y.current.value="");return}r.custom&&!H.some(function(S){return S.value===r.value})&&Ae(b(b([],H,!0),[r],!1)),(h||r.custom)&&(U(""),y.current&&(y.current.value="",y.current.focus())),u.some(function(S){return S.value===r.value})?D(u.filter(function(S){return S.value!==r.value})):D(b(b([],u,!0),[r],!1))},dt=function(){D(Be(x,b(b([],B.filter(function(r){return!r.disabled}),!0),H,!0),u))},mt=function(){D(u.filter(function(r){return r.disabled}))};return c.createElement(We,{describedby:it["aria-describedby"],feedback:w,feedbackInvalid:k,feedbackValid:F,id:M,invalid:R,label:p,text:nt,tooltipFeedback:lt,valid:Oe},c.createElement(oe,{id:M,multiple:x,name:Q,options:u,required:Ze,value:x?u.map(function(r){return r.value.toString()}):u.map(function(r){return r.value})[0],onChange:function(){return se&&se(u)},ref:te}),c.createElement("div",{className:X("form-multi-select",(n={},n["form-multi-select-".concat(Ee)]=Ee,n.disabled=v,n["is-invalid"]=R,n["is-valid"]=Oe,n.show=I,n),d),onKeyDown:Me,"aria-expanded":I,ref:l},c.createElement("div",T({className:"form-multi-select-input-group"},!K&&!v&&{tabIndex:0},{onClick:function(){return!v&&$()},onKeyDown:ft,ref:ee}),c.createElement(ie,{disabled:v,multiple:x,onRemove:function(r){return!v&&Ie(r)},placeholder:Y,search:K,selected:u,selectionType:_,selectionTypeCounterText:Se},K&&c.createElement("input",T({type:"text",className:"form-multi-select-search",disabled:v,autoComplete:"off",onChange:ut,onKeyDown:pt},u.length===0&&{placeholder:Y},u.length>0&&_==="counter"&&{placeholder:"".concat(u.length," ").concat(Se)},u.length>0&&!x&&{placeholder:u.map(function(r){return r.label})[0]},x&&u.length>0&&_!=="counter"&&{size:O.length+2},{ref:y})),!K&&u.length===0&&c.createElement("span",{className:"form-multi-select-placeholder"},Y)),c.createElement("div",{className:"form-multi-select-buttons"},!v&&E&&u.length>0&&c.createElement("button",{type:"button",className:"form-multi-select-cleaner",onClick:function(){return mt()},"aria-label":i}),c.createElement("button",T({type:"button",className:"form-multi-select-indicator",onClick:function(r){r.preventDefault(),r.stopPropagation(),v||st()}},v&&{tabIndex:-1})))),c.createElement(ht,{container:g,portal:Z},c.createElement("div",{className:X("form-multi-select-dropdown",{show:Z&&I}),onKeyDown:Me,role:"menu",ref:q},x&&tt&&c.createElement("button",{type:"button",className:"form-multi-select-all",onClick:function(){return dt()}},rt),c.createElement(ae,{loading:C,onOptionOnClick:function(r){return!v&&Ie(r)},options:z.length===0&&s?W||[]:z,optionsMaxHeight:Qe,optionsStyle:$e,optionsTemplate:Xe,optionsGroupsTemplate:Ye,searchNoResultsLabel:et,selected:u,virtualScroller:ot,visibleItems:at})))))});N.propTypes=T({allowCreateOptions:t.bool,ariaCleanerLabel:t.string,className:t.string,cleaner:t.bool,clearSearchOnSelect:t.bool,container:t.any,disabled:t.bool,loading:t.bool,multiple:t.bool,name:t.string,onChange:t.func,onFilterChange:t.func,onHide:t.func,onShow:t.func,options:t.array.isRequired,optionsMaxHeight:t.oneOfType([t.number,t.string]),optionsStyle:t.oneOf(["checkbox","text"]),optionsTemplate:t.func,optionsGroupsTemplate:t.func,placeholder:t.string,portal:t.bool,required:t.bool,resetSelectionOnOptionsChange:t.bool,search:t.oneOfType([t.bool,t.oneOf(["external","global"]),t.shape({external:t.bool.isRequired,global:t.bool.isRequired})]),searchNoResultsLabel:t.oneOfType([t.string,t.node]),selectAll:t.bool,selectAllLabel:t.oneOfType([t.string,t.node]),selectionType:t.oneOf(["counter","tags","text"]),selectionTypeCounterText:t.string,size:t.oneOf(["sm","lg"]),value:t.oneOfType([t.number,t.string,t.arrayOf(t.number),t.arrayOf(t.string)]),virtualScroller:t.bool,visible:t.bool,visibleItems:t.number},We.propTypes);N.displayName="CMultiSelect";const Ht=()=>{const e=[{value:0,label:"Angular"},{value:1,label:"Bootstrap"},{value:2,label:"React.js",selected:!0},{value:3,label:"Vue.js"},{label:"backend",options:[{value:4,label:"Django"},{value:5,label:"Laravel"},{value:6,label:"Node.js"}]}];return a.jsxs(ne,{children:[a.jsxs(j,{xs:12,children:[a.jsx(gt,{href:"forms/multi-select/"}),a.jsxs(Ke,{className:"mb-4",children:[a.jsxs(Ge,{children:[a.jsx("strong",{children:"CoreUI React Multi Select"})," ",a.jsx("small",{children:"with Checkbox (Default Style)"})]}),a.jsx(Fe,{children:a.jsx(He,{href:"forms/multi-select",children:a.jsxs(ne,{children:[a.jsx(j,{md:3,children:a.jsx(N,{options:e,multiple:!1})}),a.jsx(j,{md:3,children:a.jsx(N,{options:e,selectionType:"text"})}),a.jsx(j,{md:3,children:a.jsx(N,{options:e,selectionType:"tags"})}),a.jsx(j,{md:3,children:a.jsx(N,{options:e,selectionType:"counter"})})]})})})]})]}),a.jsx(j,{xs:12,children:a.jsxs(Ke,{className:"mb-4",children:[a.jsxs(Ge,{children:[a.jsx("strong",{children:"CoreUI React Multi Select"})," ",a.jsx("small",{children:"with Text"})]}),a.jsx(Fe,{children:a.jsx(He,{href:"forms/multi-select",children:a.jsxs(ne,{children:[a.jsx(j,{md:3,children:a.jsx(N,{options:e,optionsStyle:"text",multiple:!1})}),a.jsx(j,{md:3,children:a.jsx(N,{options:e,optionsStyle:"text",selectionType:"text"})}),a.jsx(j,{md:3,children:a.jsx(N,{options:e,optionsStyle:"text",selectionType:"tags"})}),a.jsx(j,{md:3,children:a.jsx(N,{options:e,optionsStyle:"text",selectionType:"counter"})})]})})})]})})]})};export{Ht as default};
